<section class="invoice-box">
  <h2 class="mainheading">Create Invoice</h2>

  <!-- Invoice Input Section -->
  <div class="invoice-section">
    <div class="invoice-details">
      <div class="imgheading" style="width: 161px;">
        <img class="bill_icon" src="../../../../assets/billing_icons/saveIcon.png" alt="save" width="40px" height="40px" />
        <span class="sub_heading">Invoice Details</span>
      </div>
      <p class="content">Invoice Number: 01</p>
      <p class="content">
        Invoice Date:
        <input type="date" id="invoiceDate" name="invoiceDate" value="2025-04-03" [(ngModel)]="invoiceDate" />
      
      </p>
      
    </div>

    <!--bill to section-->
    <div class="bill-to">
      <div class="imgheading" style="width: 94px;">
        <img class="bill_icon" src="../../../../assets/billing_icons/customer.png" alt="customer" width="40px" height="40px" />
        <span class="sub_heading">Bill To:</span>
      </div>
      <p class="content">Customer Name:</p>
      <input type="text" />
    </div>
  </div>

  <!-- Item Entry Section -->
  <div class="item-box">
    <div class="item-header">
      <div>Item Name</div>
      <div style="flex: 0.5;">Qty</div>
      <div style="flex: 1;">Price</div>
      <div style="flex:0.5">GST</div>
      <div style="flex: 1;">Amount</div>
      <div style="flex: 0.5;"></div>
    </div>

    <div class="item-entry">
      <div>
        <input type="text" placeholder="Enter Item" [(ngModel)]="name" />
      </div>

      <div style="flex: 0.5;">
        <input type="number" [(ngModel)]="qty" />
      </div>

      <div style="flex: 1;">
        <input type="number" [(ngModel)]="price" />
      </div>

      <div style="flex: 0.5;">
        
        <select [(ngModel)]="selectedTaxRate">
          <option [value]="5">5%</option>
          <option [value]="18">18%</option>
          <option [value]="28">28%</option>
        </select>
        
        
      </div>

      <div style="flex: 1;">
        <input type="text" [value]="price * qty+price * qty * selectedTaxRate/100" readonly />
      </div>

      <div class="actions" style="flex: 0.5;">
        <img src="../../../../assets/billing_icons/AddItem.png" style="cursor: pointer;" (click)="addProduct()" />
      </div>
    </div>
  </div>

  <!-- Item Table Section -->
  <div class="invoice-calculation">
    <div class="imgheading" style="width: 202px;">
      <img class="bill_icon" src="../../../../assets/billing_icons/saveIcon.png" alt="calc" width="40px" height="40px" />
      <span class="sub_heading">Invoice Calculation:</span>
    </div>

    <table>
      <thead>
        <tr>
          <th>Item Name</th>
          <th>Qty</th>
          <th>Price</th>
          <th>GST</th>
          <th>Total Amt</th>
          <th>Remove</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let item of users; let i = index">
          <td>{{ item.name }}</td>
          <td>{{ item.qty }}</td>
          <td>{{ item.price }}</td>
          <td>{{item.gst}}</td>
          <td>{{ item.sum }}</td>
          <td> <img src="../../../../assets/billing_icons/Trash.png" style="cursor: pointer;" (click)="removeProduct(i)" /></td>
        </tr>
      </tbody>
    </table>

    <div class="totals">
      <p><strong>Total Invoice Amount:</strong> ₹ {{ total.toFixed(2) }}</p>
      <p><strong>Invoice Amount Received:</strong> ₹ 0.00</p>
      <p><strong>Due Date:</strong> {{ invoiceDate }}</p>
    </div>

    <button class="create-btn" (click)="downloadPDF()">Create your Invoice</button>
  </div>
</section>
